<!DOCTYPE html>
<html>
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.js"></script>
	<script src="js/colpick.js" type="text/javascript"></script>
	<link rel="stylesheet" href="css/colpick.css" type="text/css"/>
	<script type="text/javascript">
		if (!String.prototype.format) {
		  String.prototype.format = function() {
		    var args = arguments;
		    return this.replace(/{(\d+)}/g, function(match, number) { 
		      return typeof args[number] != 'undefined'
		        ? args[number]
		        : match
		      ;
		    });
		  };
		}
		var color1;
		var color2;
		var color3;
	</script>
</head>

<body>

	<div id="picker" class="center"></div>
	<div id="controls" class="center">
		<div class="control"><button onclick="$.post('/music','')">music modee</button></div>
		<div class="control"><button onclick="$.post('/rainbow','')">rainbow</button></div>
		<div class="control"><button onclick="$.post('/strobe','')">strobe</button></div>
		<div class="control"><button onclick="$.post('/theaterChase','')">theaterChase</button></div>
		<div class="control"><button onclick="$.post('/breathing','')">breathing</button></div>
		<div class="control"><button onclick="$.post('/wave','')">wave</button></div>
		<p id='a'></p>
	</div>
	<script>
		$('#picker').colpick({
			flat:true,
			layout:'hex',
			submit:1,
			onChange:function(hsb,hex,rgb,el,bySetColor) {
				document.body.style.background  = "#" + hex;
				console.log(rgb);
				var r = Math.random();
				red = hex;
				document.getElementById("a").innerHTML = red;
				if (r >= .5){
					$.post("/set", rgb);
				}
			},
			onSubmit: function(hsb, hex, rgb, el) {
				$.post("/set", rgb);
			},
		});
	</script>
	<div id="image"><div>

</body>
</html>